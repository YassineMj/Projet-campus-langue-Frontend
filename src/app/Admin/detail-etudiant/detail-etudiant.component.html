<link
  href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"
  rel="stylesheet"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
/>

<link
  rel="stylesheet"
  href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
/>

<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>

<br />
<div class="container" style="margin-top: 0%">
  <div class="row justify-content-center">
    <div class="col-lg-12 col-md-12">
      <div
        style="border-top: 7px solid rgb(20, 124, 184)"
        class="card shadow-md rounded-3"
      >
        <div class="card-body">
          <a href="/menu-admin/etudiant">
            <div style="width: 80%; font-size: 20px; text-align: left">
              <img
                src="../../../assets/images/Back-PNG-Transparent-Image.png"
                alt="Left Arrow"
                style="width: 24px; height: 24px"
              />
            </div>
          </a>

          <h5
            class="card-title text-center color-ttle mb-4"
            style="color: #008cc7"
          >
            <u><i class="fa-solid fa-circle-info"></i> Détails de l'Étudiant</u>
          </h5>
          <br />
          <div class="row mb-3 oo">
            <div class="col-6">
              <strong>Nom :</strong> <span> Jean Dupont</span>
            </div>
            <div class="col-6">
              <strong>Prénom :</strong> <span> Marie</span>
            </div>
          </div>
          <div class="row mb-3 oo">
            <div class="col-6">
              <strong> Établissement :</strong>
              <span> Lycée Victor Hugo</span>
            </div>
            <div class="col-6">
              <strong>Niveau :</strong> <span> Terminale</span>
            </div>
          </div>
          <div class="row mb-3 oo">
            <div class="col-6">
              <strong>Téléphone :</strong> <span> +33 6 12 34 56 78</span>
            </div>
          </div>
          <hr />
          <div class="row mb-3 oo">
            <div class="col-6">
              <strong>Nom du Père :</strong> <span> Paul Dupont</span>
            </div>
            <div class="col-6">
              <strong> Téléphone du Père :</strong>
              <span> +33 6 98 76 54 32</span>
            </div>
          </div>
          <div class="row mb-3 oo">
            <div class="col-6">
              <strong>Nom de la Mère :</strong> <span> Claire Dupont</span>
            </div>
            <div class="col-6">
              <strong> Téléphone de la Mère :</strong>
              <span> +33 6 54 32 10 98</span>
            </div>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-body">
          <h5
            class="card-title text-center color-ttle mb-4"
            style="color: #008cc7"
          >
            <u> Liste d'Inscription</u>
          </h5>

          <div class="mb-2 d-flex justify-content-between align-items-center">
            <div class="position-relative">
              <span class="position-absolute search"
                ><i class="fa fa-search"></i
              ></span>
              <input
                class="form-control searchform w-100"
                placeholder="Rechercher..."
              />
            </div>
            <div class="px-2 d-flex justify-content-end" style="width: 100%">
              <!-- Print Button -->
              <button
                class="btn print-btn"
                style="
                  height: 30px;
                  color: white;
                  font-size: 14px;
                  display: inline-flex;
                  justify-content: center;
                  align-items: center;
                  border: 2px solid #0a9dd2;
                  background-color: #0a9dd2;
                  transition: all 0.3s ease;
                  margin-right: 3px;
                "
                (click)="printTable()"
              >
                <i class="fa fa-print" style="color: #ffffff"></i>
              </button>

              <!-- Download Button -->
              <button
                class="btn download-btn"
                style="
                  height: 30px;
                  color: white;
                  padding: 0 10px;
                  font-size: 14px;
                  display: inline-flex;
                  justify-content: center;
                  align-items: center;
                  border: 2px solid #0a9dd2;
                  background-color: #0a9dd2;
                  transition: all 0.3s ease;
                "
                (click)="downloadAsExcel()"
              >
                <i class="fa fa-download" style="color: #ffffff"></i>
              </button>
            </div>
          </div>

          <div class="table-responsive table-container" id="etudianttable">
            <table class="table" id="etudianttable">
              <thead>
                <tr>
                  <th><b>Date d'Inscription</b></th>
                  <th><b>Mois</b></th>
                  <th><b>Matière</b></th>
                  <th><b>Groupe</b></th>
                  <th><b>Professeur</b></th>
                  <th><b>Cours</b></th>
                  <th><b>Emploi du Temps</b></th>
                  <th class="text-right"><b>Actions</b></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <!-- Exemple de ligne de données -->
                  <td style="text-align: center">2024-01-15</td>
                  <td>Janvier</td>
                  <td>Mathématiques</td>
                  <td>GA</td>
                  <td>Dr. Dupont</td>
                  <td>Algèbre avancée</td>
                  <!-- Emploi du temps formaté -->
                  <td>Lundi de 12:00 à 13:30</td>
                  <td class="td-actions text-right d-flex justify-content-end">
                    <!-- Edit Button -->
                    <button
                      type="button"
                      class="btn btn-round btn-just-icon"
                      style="margin-right: 5px"
                      data-bs-toggle="modal"
                      data-bs-target="#editModal"
                    >
                      <i class="fa fa-edit" style="font-size: medium"></i>
                    </button>
                    <!-- Delete Button -->
                    <button
                      type="button"
                      class="btn btn-danger btn-round btn-just-icon"
                      data-bs-toggle="modal"
                      data-bs-target="#deleteConfirmationModal"
                    >
                      <i class="fa fa-trash" style="font-size: medium"></i>
                    </button>
                  </td>
                </tr>
                <!-- Ajouter d'autres lignes ici si nécessaire -->
              </tbody>
            </table>

            <!--delete modal -->
            <div
              class="modal fade"
              id="deleteConfirmationModal"
              tabindex="-1"
              aria-labelledby="deleteConfirmationModalLabel"
              aria-hidden="true"
            >
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header MODAL" style="height: 60px">
                    <h4
                      class="modal-title"
                      style="color: rgb(255, 255, 255); font-size: 22px"
                      id="deleteConfirmationModalLabel"
                    >
                      <b> Confirmation de Suppression</b>
                    </h4>
                    <button
                      type="button"
                      style="color: rgb(255, 255, 255)"
                      class="btn-close btn-close-white"
                      data-bs-dismiss="modal"
                      aria-label="Close"
                    ></button>
                  </div>

                  <div class="modal-body text-danger">
                    <div class="alert alert-danger" role="alert">
                      <i class="fa-solid fa-triangle-exclamation"></i>
                      Est-ce que vous voulez supprimer cet étudiant ?
                    </div>
                  </div>
                  <div class="modal-footer justify-content-center">
                    <!-- Bouton Annuler -->
                    <button
                      type="button"
                      class="btn btn-black colormodalfermer"
                      data-bs-dismiss="modal"
                      style="border-radius: 50px"
                    >
                      <i class="fa-solid fa-close"></i>
                    </button>
                    <!-- Bouton Supprimer -->
                    <button
                      type="button"
                      class="btn btn-danger colormodalsupp"
                      style="
                        border-radius: 50px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                      "
                    >
                      <ng-container>
                        <i class="fa-solid fa-trash-can"></i>
                      </ng-container>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Modal for Editing -->
          <div
            class="modal fade"
            id="editModal"
            tabindex="-1"
            aria-labelledby="editModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-lg" style="max-width: 80%">
              <div class="modal-content">
                <div class="modal-header hedtopedit">
                  <h1 class="modal-title fs-5" id="editModalLabel">
                    <i class="fa fa-pen"></i> Modifier les Informations
                  </h1>
                  <button
                    type="button"
                    class="btn-close text-white"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>

                <form #editForm="ngForm" (ngSubmit)="onSubmit(editForm)">
                  <div class="modal-body">
                    <div class="container-fluid">
                      <!-- Première Ligne : Matières, Mois -->
                      <div class="row">
                        <!-- Matières -->
                        <div class="col-md-6">
                          <div class="mb-3">
                            <label for="editMatieres" class="form-label">
                              Matières <span class="required">*</span>
                            </label>
                            <select
                              class="form-select"
                              id="editMatieres"
                              name="matieres"
                              [(ngModel)]="data.matieres"
                              #matieres="ngModel"
                              required
                            >
                              <option value="" disabled selected>
                                Choisir une matière
                              </option>
                              <option value="Mathématiques">
                                Mathématiques
                              </option>
                              <option value="Physique">Physique</option>
                            </select>
                            <!-- Custom validation message -->
                            <div *ngIf="matieres.invalid && matieres.touched">
                              <span class="text-danger"
                                >Ce champ est obligatoire.</span
                              >
                            </div>
                          </div>
                        </div>

                        <!-- Mois -->
                        <div class="col-md-6">
                          <div class="mb-3">
                            <label for="editMois" class="form-label">
                              Mois <span class="required">*</span>
                            </label>
                            <select
                              class="form-select"
                              id="editMois"
                              name="mois"
                              [(ngModel)]="data.mois"
                              #mois="ngModel"
                              required
                            >
                              <option value="" disabled selected>
                                Choisir un mois
                              </option>
                              <option value="Janvier">Janvier</option>
                              <option value="Février">Février</option>
                            </select>
                            <!-- Custom validation message -->
                            <div *ngIf="mois.invalid && mois.touched">
                              <span class="text-danger"
                                >Ce champ est obligatoire.</span
                              >
                            </div>
                          </div>
                        </div>
                      </div>

                      <!-- Deuxième Ligne : Groupe, Année -->
                      <div class="row">
                        <!-- Groupe -->
                        <div class="col-md-6">
                          <div class="mb-3">
                            <label for="editGroupe" class="form-label">
                              Groupe <span class="required">*</span>
                            </label>
                            <select
                              class="form-select"
                              id="editGroupe"
                              name="groupe"
                              [(ngModel)]="data.groupe"
                              #groupe="ngModel"
                              required
                            >
                              <option value="" disabled selected>
                                Choisir un groupe
                              </option>
                              <option value="1">Groupe 1</option>
                              <option value="2">Groupe 2</option>
                            </select>
                            <!-- Custom validation message -->
                            <div *ngIf="groupe.invalid && groupe.touched">
                              <span class="text-danger"
                                >Ce champ est obligatoire.</span
                              >
                            </div>
                          </div>
                        </div>

                        <!-- Année -->
                        <div class="col-md-6">
                          <div class="mb-3">
                            <label for="editAnnee" class="form-label">
                              Année <span class="required">*</span>
                            </label>
                            <select
                              class="form-select"
                              id="editAnnee"
                              name="annee"
                              [(ngModel)]="data.annee"
                              #annee="ngModel"
                              required
                            >
                              <option value="" disabled selected>
                                Choisir une année
                              </option>
                              <option value="2023">2023</option>
                              <option value="2024">2024</option>
                            </select>
                            <!-- Custom validation message -->
                            <div *ngIf="annee.invalid && annee.touched">
                              <span class="text-danger"
                                >Ce champ est obligatoire.</span
                              >
                            </div>
                          </div>
                        </div>
                      </div>

                      <!-- Troisième Ligne : Professeur, EDT -->
                      <div class="row">
                        <!-- Professeur -->
                        <div class="col-md-6">
                          <div class="mb-3">
                            <label for="editProfesseur" class="form-label">
                              Professeur <span class="required">*</span>
                            </label>
                            <select
                              class="form-select"
                              id="editProfesseur"
                              name="professeur"
                              [(ngModel)]="data.professeur"
                              #professeur="ngModel"
                              required
                            >
                              <option value="" disabled selected>
                                Choisir un professeur
                              </option>
                              <option value="1">Professeur 1</option>
                              <option value="2">Professeur 2</option>
                            </select>
                            <!-- Custom validation message -->
                            <div
                              *ngIf="professeur.invalid && professeur.touched"
                            >
                              <span class="text-danger"
                                >Ce champ est obligatoire.</span
                              >
                            </div>
                          </div>
                        </div>

                        <!-- Emploi du Temps (EDT) -->
                        <div class="col-md-6">
                          <div class="mb-3">
                            <label for="editEDT" class="form-label">
                              Emploi du Temps (EDT)
                              <span class="required">*</span>
                            </label>
                            <input
                              type="text"
                              class="form-control"
                              id="editEDT"
                              name="edt"
                              [(ngModel)]="data.edt"
                              #edt="ngModel"
                              placeholder="Ex : Lundi 14:00 - 16:00"
                              required
                            />
                            <!-- Custom validation message -->
                            <div *ngIf="edt.invalid && edt.touched">
                              <span class="text-danger"
                                >Ce champ est obligatoire.</span
                              >
                            </div>
                          </div>
                        </div>
                      </div>

                      <!-- Quatrième Ligne : Test -->
                      <div class="row">
                        <!-- Test -->
                        <div class="col-md-12">
                          <div class="mb-3">
                            <label for="editTest" class="form-label">
                              Test <span class="required">*</span>
                            </label>
                            <select
                              class="form-select"
                              id="editTest"
                              name="test"
                              [(ngModel)]="data.test"
                              #test="ngModel"
                              required
                            >
                              <option value="" disabled selected>
                                Choisir un test
                              </option>
                              <option value="1">Test 1</option>
                              <option value="2">Test 2</option>
                            </select>
                            <!-- Custom validation message -->
                            <div *ngIf="test.invalid && test.touched">
                              <span class="text-danger"
                                >Ce champ est obligatoire.</span
                              >
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Pied de page avec les boutons -->
                  <div class="modal-footer justify-content-center">
                    <button
                      type="button"
                      class="btn btn-round colormodalfermer"
                      data-bs-dismiss="modal"
                    >
                      <i class="fa fa-close text-white"></i>
                    </button>
                    <button
                      type="submit"
                      class="btn btn-round colormodalmodifier"
                      [disabled]="editForm.invalid"
                    >
                      <i class="fa fa-save text-white"></i> Enregistrer
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>

          <!-- End of Modal -->
        </div>
      </div>
    </div>
  </div>
</div>
